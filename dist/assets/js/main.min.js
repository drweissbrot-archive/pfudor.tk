/*! PFUDOR.tk | MIT license | https://github.com/drweissbrot/pfudor.tk */
function applyFilters(){$("#player").css("-webkit-filter","sepia("+config.filters.sepia+"%) grayscale("+config.filters.gray+"%) blur("+config.filters.blur+"px)").css("filter","sepia("+config.filters.sepia+"%) grayscale("+config.filters.gray+"%) blur("+config.filters.blur+"px)")}function generateCredits(){$(".credits").html(""),special.pfudor&&($(".credits").append('<a href="https://youtube.com/watch?v=eWM2joNb9NE">Song by Andrew Huang</a><br/>'),"anim"==special.type?($(".credits").append('<a href="https://youtube.com/watch?v=qRC4Vk6kisY">Video by FluffyMixer</a><br />'),$(".credits").append('<a href="https://pfudor.tk#v=huang">Switch to the official video</a><br />')):$(".credits").append('<a href="https://pfudor.tk#v=anim">Switch to the animated video</a><br />')),"gaben"!==special.type&&$(".credits").append('<a href="https://pfudor.tk#v=gaben">Praise Lord Gaben!</a><br />'),special.enabled&&"gaben"!=special.type||$(".credits").append('<a href="https://youtube.com/watch?v='+config.id+'">Switch to the video</a>')}function getVars(){$.qs=function(e){var t=new RegExp("[#&]"+e+"=([^&#]*)").exec(window.location.href);return null===t?null:t[1]||0},""===window.location.hash?(config=defaults,special={enabled:!0,pfudor:!0,type:"anim"}):config={id:$.qs("v"),playlist:$.qs("p"),vol:$.qs("t"),quality:$.qs("q"),start:$.qs("s"),end:$.qs("e"),ctrls:$.qs("c"),filters:{sepia:$.qs("sepia"),gray:$.qs("gray"),blur:$.qs("blur")}},validateConfig()}function validateConfig(){if(config!=defaults){switch(config.id){case null:case"anim":case"qRC4Vk6kisY":config.id=defaults.id,special={enabled:!0,pfudor:!0,type:"anim"};break;case"huang":case"eWM2joNb9NE":config.id="eWM2joNb9NE",special={enabled:!0,pfudor:!0,type:"huang"};break;case"gaben":case"rP2MDtWu5t0":config.id="rP2MDtWu5t0",special={enabled:!0,pfudor:!1,type:"gaben"};break;default:special={enabled:!1,pfudor:!1,type:"yt"}}switch(null===config.playlist&&(config.playlist=config.id),config.vol=config.vol>100||config.vol<0||null===config.vol?defaults.vol:Math.round(config.vol),config.quality){case 240:config.quality="small";break;case 360:config.quality="medium";break;case 480:config.quality="large";break;case 720:config.quality="hd720";break;case 1080:config.quality="hd1080";break;default:config.quality=defaults.quality}special.pfudor?(config.start=0,config.end=90.5):(null===config.start&&(config.start=defaults.start),null===config.end&&(config.end=defaults.end)),"true"===config.ctrls?(config.ctrls=1,$(".overlay").css("display","none"),$(".social").css("display","none")):config.ctrls=defaults.ctrls,(null===config.filters.sepia||config.filters.sepia>100||config.filters.sepia<0)&&(config.filters.sepia=defaults.filters.sepia),(null===config.filters.gray||config.filters.gray>100||config.filters.gray<0)&&(config.filters.gray=defaults.filters.gray),config.filters.blur=null===config.filters.blur||config.filters.blur<0?defaults.filters.blur:Math.round(config.filters.blur)}changeTitle()}function changeTitle(){document.title=special.enabled?special.pfudor?"HAIL PFUDOR!":"PRAISE LORD GABEN!":"PFUDOR.tk"}function onYouTubeIframeAPIReady(){player=new YT.Player("player",{videoId:config.id,playerVars:{rel:0,modestbranding:1,iv_load_policy:3,autohide:1,showinfo:0,loop:1,playlist:config.id,controls:config.ctrls,autoplay:1},events:{onReady:onPlayerReady,onStateChange:onPlayerStateChange}})}function play(){$(".modal").removeClass("active"),$("body").removeClass("has-modal"),player.playVideo()}function pause(){player.pauseVideo()}function playFromStart(){player.seekTo(config.start),config.end!=defaults.end&&setInterval(function(){player.getCurrentTime()>=config.end&&playFromStart()},500)}function onPlayerReady(){player.setVolume(config.vol),player.setPlaybackQuality(config.quality),playFromStart(),generateCredits(),applyFilters(),setTimeout(function(){$(".loading").addClass("hide")},5e3)}function onPlayerStateChange(){1==player.getPlayerState()&&$(".loading").addClass("hide")}function socialLinks(){$("#tw").attr("href","https://twitter.com/intent/tweet?text=PFUDOR.tk&amp;url="+window.location),$("#fb").attr("href","https://www.facebook.com/sharer/sharer.php?u="+window.location),$("#gp").attr("href","https://plus.google.com/share?url="+window.location),$("#wa").attr("href","whatsapp://send?text=PFUDOR.tk%20"+window.location)}$(function(){var e=window.location;e.href.indexOf("?")>1&&location.replace(e.href.replace("?","#")),""===e.hash&&(window.location="#"),console.info("Looking under the hood? Why don't you get involved? https://github.com/drweissbrot/pfudor.tk"),getVars(),socialLinks(),window.onhashchange=function(){var e=config;return getVars(),socialLinks(),e.id!=config.id||e.ctrls!=config.ctrls?(player.destroy(),void onYouTubeIframeAPIReady()):((e.start!=config.start||e.end!=config.end)&&playFromStart(),e.filters!=config.filters&&applyFilters(),void onPlayerReady())},$(".overlay").on("click",function(){var e=player.getPlayerState();1!==e&&3!==e&&(playFromStart(),play())})}),$(function(){function e(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement?document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen&&document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT),$("#fs-tgl i").toggleClass("fa-expand").toggleClass("fa-compress")}$(".overlay").on("dblclick",function(){e()}),$("#fs-tgl").on("click",function(t){t.preventDefault(),e()})}),$(function(){function e(){var e="https://pfudor.tk/#";switch(a.id){case"qRC4Vk6kisY":case"anim":case"yt":break;case"eWM2joNb9NE":case"huang":e+="v=huang";break;case"rP2MDtWu5t0":case"gaben":e+="v=gaben";break;default:e+="v="+a.id}switch(a.vol!==t.vol&&(e+="&t="+a.vol),a.quality){case"240":e+="&q=240";break;case"360":e+="&q=360";break;case"480":e+="&q=480";break;default:case"720":break;case"1080":e+="&q=1080"}a.start!==t.start&&(e+="&s="+a.start),a.end!==t.end&&(e+="&e="+a.end),a.ctrls&&(e+="&c=true"),a.filters.sepia!==t.filters.sepia&&(e+="&sepia="+a.filters.sepia),a.filters.gray!==t.filters.gray&&(e+="&gray="+a.filters.gray),a.filters.blur!==t.filters.blur&&(e+="&blur="+a.filters.blur),$("#genlink").val(e)}var t={id:"anim",vol:100,quality:720,start:0,end:0,ctrls:0,filters:{sepia:0,gray:0,blur:0}},a={id:"anim",vol:100,quality:720,start:0,end:0,ctrls:0,filters:{sepia:0,gray:0,blur:0}};$('input[name="vid"]').on("click",function(){a.id=$(this).attr("id").replace("v-",""),("anim"==a.id||"huang"==a.id||"gaben"==a.id)&&$("#vidid-label").css("display",""),"yt"==a.id&&$("#vidid-label").css("display","block"),e()}),$("#vidid").on("input",function(){a.id=$(this).val(),e()}),$("#vol-slide").on("change",function(){var t=$("#vol-slide").val();$("#vol").val(t),a.vol=t,e()}),$("#vol").on("change",function(){var t=$("#vol").val();$("#vol-slide").val(t),a.vol=t,e()}),$('input[name="quality"]').on("click",function(){a.quality=$(this).attr("id").replace("q-",""),e()}),$("#startat").on("input",function(){a.start=$(this).val(),e()}),$("#endat").on("input",function(){a.end=$(this).val(),e()}),$("#ctrls").on("click",function(){a.ctrls=$(this).prop("checked"),e()}),$("#sepia").on("input",function(){a.filters.sepia=$(this).val(),e()}),$("#gray").on("input",function(){a.filters.gray=$(this).val(),e()}),$("#blur").on("input",function(){a.filters.blur=$(this).val(),e()})});var config={},special={},defaults={id:"qRC4Vk6kisY",vol:100,quality:"hd720",start:0,end:0,ctrls:0,filters:{sepia:0,gray:0,blur:0}};$(function(){function e(){return setTimeout(function(){$("body").addClass("idle")},2500)}var t;e(),$("body").mousemove(function(){clearTimeout(t),$("body").removeClass("idle"),t=e()})}),$(function(){function e(){$(".modal").css("display","none")}function t(e){$(".modal.m-"+e).css("display",""),setTimeout(function(){$(".modal.m-"+e).addClass("active")},10),player.pauseVideo()}function a(){play(),setTimeout(function(){e()},250)}e(),$(".ref a").on("click",function(e){"#"==$(this).attr("href")&&(e.preventDefault(),$("body").addClass("has-modal"),t($(this).attr("data-modal")))}),$(".closemodal").on("click",function(e){e.preventDefault(),a()})});var player;